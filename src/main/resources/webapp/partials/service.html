<div ng-if="loading">Loading...</div>
<div ng-if="!loading">
    <h3>
        <div class="btn-group" uib-dropdown ng-if="service.canModify && service.active" is-open="status.isopen">
            <button id="single-button" type="button" class="btn btn btn-info btn-xs" uib-dropdown-toggle>
                <span class="glyphicon glyphicon-align-justify"></span> <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                <li role="menuitem"><a ng-click="openUpdateServiceModal();">Update {{service.serviceName}}</a></li>
                <li role="menuitem" ng-if="service.doBuilds"><a ng-click="openBuildServiceModal();">Build {{service.serviceName}}</a></li>
                <li role="menuitem"><a ng-click="openDeleteServiceModal();">Delete {{service.serviceName}}</a></li>
            </ul>
        </div>
        {{service.serviceName}}
    </h3>
    <span ng-if="!service.active">Service was deleted on {{service.deletionDate}}, see audit for details.</span>
    <span style="white-space:pre-wrap;">{{service.description}}</span>
    <div ng-if="service.active && service.serviceType === 'Service'">
        <uib-tabset type="pills">
            <uib-tab heading="Modules">
                <div ng-include src="'partials/serviceModule.html'"></div>
            </uib-tab>
            <uib-tab heading="Hosts">
                <div ng-include src="'partials/serviceHost.html'"></div>
            </uib-tab>
            <uib-tab heading="VIPs">
                <div ng-include src="'partials/serviceVip.html'"></div>
            </uib-tab>
            <!--
            <uib-tab heading="Data Stores">
                <div ng-include src="'partials/serviceDataStore.html'"></div>
            </uib-tab>
            -->
            <uib-tab heading="Custom Functions">
                <div ng-include src="'partials/serviceCustomFunction.html'"></div>
            </uib-tab>
            <uib-tab heading="Configuration">
                <div ng-include src="'partials/serviceConfig.html'"></div>
            </uib-tab>
            <uib-tab heading="Docs">
                <div ng-include src="'partials/serviceDocs.html'"></div>
            </uib-tab>
            <uib-tab heading="Audit">
                <div ng-include src="'partials/serviceAudit.html'"></div>
            </uib-tab>
        </uib-tabset>
    </div>
    <div ng-if="service.active && service.serviceType !== 'Service'">
        <uib-tabset type="pills">
            <uib-tab heading="Modules">
                <div ng-include src="'partials/serviceModule.html'"></div>
            </uib-tab>
            <uib-tab heading="Configuration">
                <div ng-include src="'partials/serviceConfig.html'"></div>
            </uib-tab>
            <uib-tab heading="Docs">
                <div ng-include src="'partials/serviceDocs.html'"></div>
            </uib-tab>
            <uib-tab heading="Audit">
                <div ng-include src="'partials/serviceAudit.html'"></div>
            </uib-tab>
        </uib-tabset>
    </div>
    <div ng-if="!service.active">
        <uib-tabset type="pills">
            <uib-tab heading="Configuration">
                <div ng-include src="'partials/serviceConfig.html'"></div>
            </uib-tab>
            <uib-tab heading="Audit">
                <div ng-include src="'partials/serviceAudit.html'"></div>
            </uib-tab>
        </uib-tabset>
    </div>
</div>