<div class="modal-header">
    <h3 class="modal-title">Manage Files for the {{module.moduleName}} Module in {{moduleEnvironment.environment}}</h3>
    <button class="btn btn-primary" ng-click="addNewFile()" type="button">New File</button>
</div>
<div class="modal-body">
    <div class="alert alert-danger" ng-if="errorMsg !== null">{{errorMsg}}</div>
    <div class="alert alert-warning" ng-if="configEnvironment.warning">{{configEnvironment.warning}}</div>
    <uib-accordion close-others="true">
        <div uib-accordion-group class="panel-default" ng-repeat="file in dataFromServer track by $index"
             heading="{{file.name}}">
            <div class="form-group">
                <label class="form-label">File name</label>
                <input type="text" ng-model="file.name" class="form-control" required/>
            </div>
            <div class="form-control" style="height: 200px; width: 100%" ng-model="file.contents" ui-ace="{
                useWrapMode : true,
                showGutter: true,
                theme:'monokai',
                mode: 'properties',
                firstLineNumber: 1,
                advanced: {
                    fontSize: '14px'
                }
            }"></div>
            <div class="form-group">
                <!--<button class="btn btn-warning" type="button" ng-click="delete(file.name, $index)">Delete</button>-->
                <button class="btn btn-warning" type="button" ng-click="openDeleteModal(file.name, $index)">Delete</button>
                <button class="btn btn-primary" type="button" ng-click="save($index)">Save</button>
            </div>
        </div>
    </uib-accordion>
</div>
<div class="modal-footer">
    <button class="btn btn-warning" type="button" ng-click="close()">Close</button>
</div>
